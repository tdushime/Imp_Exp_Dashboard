/*! For license information please see 77.453e9e3d.chunk.js.LICENSE.txt */
(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[77],{91077:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return k}});var r=n(1413),i=n(93433),s=n(29439),a=n(72791),o=n(1025),u=n.n(o),h=n(89611);function l(e){return e&&e.stopPropagation&&e.stopPropagation(),e&&e.preventDefault&&e.preventDefault(),!1}function c(e){return null==e?[]:Array.isArray(e)?e.slice():[e]}function p(e){return null!==e&&1===e.length?e[0]:e.slice()}function f(e){Object.keys(e).forEach((function(t){"undefined"!=typeof document&&document.addEventListener(t,e[t],!1)}))}function d(e,t){return m(function(e,t){var n=e;return n<=t.min&&(n=t.min),n>=t.max&&(n=t.max),n}(e,t),t)}function m(e,t){var n=(e-t.min)%t.step,r=e-n;return 2*Math.abs(n)>=t.step&&(r+=n>0?t.step:-t.step),parseFloat(r.toFixed(5))}var g=function(e){function t(t){var n;(n=e.call(this,t)||this).onKeyUp=function(){n.onEnd()},n.onMouseUp=function(){n.onEnd(n.getMouseEventMap())},n.onTouchEnd=function(e){e.preventDefault(),n.onEnd(n.getTouchEventMap())},n.onBlur=function(){n.setState({index:-1},n.onEnd(n.getKeyDownEventMap()))},n.onMouseMove=function(e){n.setState({pending:!0});var t=n.getMousePosition(e),r=n.getDiffPosition(t[0]),i=n.getValueFromPosition(r);n.move(i)},n.onTouchMove=function(e){if(!(e.touches.length>1)){n.setState({pending:!0});var t=n.getTouchPosition(e);if(void 0===n.isScrolling){var r=t[0]-n.startPosition[0],i=t[1]-n.startPosition[1];n.isScrolling=Math.abs(i)>Math.abs(r)}if(n.isScrolling)n.setState({index:-1});else{var s=n.getDiffPosition(t[0]),a=n.getValueFromPosition(s);n.move(a)}}},n.onKeyDown=function(e){if(!(e.ctrlKey||e.shiftKey||e.altKey||e.metaKey))switch(n.setState({pending:!0}),e.key){case"ArrowLeft":case"ArrowDown":case"Left":case"Down":e.preventDefault(),n.moveDownByStep();break;case"ArrowRight":case"ArrowUp":case"Right":case"Up":e.preventDefault(),n.moveUpByStep();break;case"Home":e.preventDefault(),n.move(n.props.min);break;case"End":e.preventDefault(),n.move(n.props.max);break;case"PageDown":e.preventDefault(),n.moveDownByStep(n.props.pageFn(n.props.step));break;case"PageUp":e.preventDefault(),n.moveUpByStep(n.props.pageFn(n.props.step))}},n.onSliderMouseDown=function(e){if(!n.props.disabled&&2!==e.button){if(n.setState({pending:!0}),!n.props.snapDragDisabled){var t=n.getMousePosition(e);n.forceValueFromPosition(t[0],(function(e){n.start(e,t[0]),f(n.getMouseEventMap())}))}l(e)}},n.onSliderClick=function(e){if(!n.props.disabled&&n.props.onSliderClick&&!n.hasMoved){var t=n.getMousePosition(e),r=d(n.calcValue(n.calcOffsetFromPosition(t[0])),n.props);n.props.onSliderClick(r)}},n.createOnKeyDown=function(e){return function(t){n.props.disabled||(n.start(e),f(n.getKeyDownEventMap()),l(t))}},n.createOnMouseDown=function(e){return function(t){if(!n.props.disabled&&2!==t.button){n.setState({pending:!0});var r=n.getMousePosition(t);n.start(e,r[0]),f(n.getMouseEventMap()),l(t)}}},n.createOnTouchStart=function(e){return function(t){if(!(n.props.disabled||t.touches.length>1)){n.setState({pending:!0});var r=n.getTouchPosition(t);n.startPosition=r,n.isScrolling=void 0,n.start(e,r[0]),f(n.getTouchEventMap()),function(e){e.stopPropagation&&e.stopPropagation()}(t)}}},n.handleResize=function(){var e=window.setTimeout((function(){n.pendingResizeTimeouts.shift(),n.resize()}),0);n.pendingResizeTimeouts.push(e)},n.renderThumb=function(e,t){var r=n.props.thumbClassName+" "+n.props.thumbClassName+"-"+t+" "+(n.state.index===t?n.props.thumbActiveClassName:""),i={ref:function(e){n["thumb"+t]=e},key:n.props.thumbClassName+"-"+t,className:r,style:e,onMouseDown:n.createOnMouseDown(t),onTouchStart:n.createOnTouchStart(t),onFocus:n.createOnKeyDown(t),tabIndex:0,role:"slider","aria-orientation":n.props.orientation,"aria-valuenow":n.state.value[t],"aria-valuemin":n.props.min,"aria-valuemax":n.props.max,"aria-label":Array.isArray(n.props.ariaLabel)?n.props.ariaLabel[t]:n.props.ariaLabel,"aria-labelledby":Array.isArray(n.props.ariaLabelledby)?n.props.ariaLabelledby[t]:n.props.ariaLabelledby,"aria-disabled":n.props.disabled},s={index:t,value:p(n.state.value),valueNow:n.state.value[t]};return n.props.ariaValuetext&&(i["aria-valuetext"]="string"==typeof n.props.ariaValuetext?n.props.ariaValuetext:n.props.ariaValuetext(s)),n.props.renderThumb(i,s)},n.renderTrack=function(e,t,r){var i={key:n.props.trackClassName+"-"+e,className:n.props.trackClassName+" "+n.props.trackClassName+"-"+e,style:n.buildTrackStyle(t,n.state.upperBound-r)},s={index:e,value:p(n.state.value)};return n.props.renderTrack(i,s)};var r=c(t.value);r.length||(r=c(t.defaultValue)),n.pendingResizeTimeouts=[];for(var i=[],s=0;s<r.length;s+=1)r[s]=d(r[s],t),i.push(s);return n.resizeObserver=null,n.resizeElementRef=a.createRef(),n.state={index:-1,upperBound:0,sliderLength:0,value:r,zIndices:i},n}var n,r;r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,(0,h.Z)(n,r);var i=t.prototype;return i.componentDidMount=function(){"undefined"!=typeof window&&(this.resizeObserver=new ResizeObserver(this.handleResize),this.resizeObserver.observe(this.resizeElementRef.current),this.resize())},t.getDerivedStateFromProps=function(e,t){var n=c(e.value);return n.length?t.pending?null:{value:n.map((function(t){return d(t,e)}))}:null},i.componentDidUpdate=function(){0===this.state.upperBound&&this.resize()},i.componentWillUnmount=function(){this.clearPendingResizeTimeouts(),this.resizeObserver&&this.resizeObserver.disconnect()},i.onEnd=function(e){e&&function(e){Object.keys(e).forEach((function(t){"undefined"!=typeof document&&document.removeEventListener(t,e[t],!1)}))}(e),this.hasMoved&&this.fireChangeEvent("onAfterChange"),this.setState({pending:!1}),this.hasMoved=!1},i.getValue=function(){return p(this.state.value)},i.getClosestIndex=function(e){for(var t=Number.MAX_VALUE,n=-1,r=this.state.value,i=r.length,s=0;s<i;s+=1){var a=this.calcOffset(r[s]),o=Math.abs(e-a);o<t&&(t=o,n=s)}return n},i.getMousePosition=function(e){return[e["page"+this.axisKey()],e["page"+this.orthogonalAxisKey()]]},i.getTouchPosition=function(e){var t=e.touches[0];return[t["page"+this.axisKey()],t["page"+this.orthogonalAxisKey()]]},i.getKeyDownEventMap=function(){return{keydown:this.onKeyDown,keyup:this.onKeyUp,focusout:this.onBlur}},i.getMouseEventMap=function(){return{mousemove:this.onMouseMove,mouseup:this.onMouseUp}},i.getTouchEventMap=function(){return{touchmove:this.onTouchMove,touchend:this.onTouchEnd}},i.getValueFromPosition=function(e){var t=e/(this.state.sliderLength-this.state.thumbSize)*(this.props.max-this.props.min);return d(this.state.startValue+t,this.props)},i.getDiffPosition=function(e){var t=e-this.state.startPosition;return this.props.invert&&(t*=-1),t},i.resize=function(){var e=this.slider,t=this.thumb0;if(e&&t){var n=this.sizeKey(),r=e.getBoundingClientRect(),i=e[n],s=r[this.posMaxKey()],a=r[this.posMinKey()],o=t.getBoundingClientRect()[n.replace("client","").toLowerCase()],u=i-o,h=Math.abs(s-a);this.state.upperBound===u&&this.state.sliderLength===h&&this.state.thumbSize===o||this.setState({upperBound:u,sliderLength:h,thumbSize:o})}},i.calcOffset=function(e){var t=this.props.max-this.props.min;return 0===t?0:(e-this.props.min)/t*this.state.upperBound},i.calcValue=function(e){return e/this.state.upperBound*(this.props.max-this.props.min)+this.props.min},i.calcOffsetFromPosition=function(e){var t=this.slider.getBoundingClientRect(),n=t[this.posMaxKey()],r=t[this.posMinKey()],i=e-(window["page"+this.axisKey()+"Offset"]+(this.props.invert?n:r));return this.props.invert&&(i=this.state.sliderLength-i),i-=this.state.thumbSize/2},i.forceValueFromPosition=function(e,t){var n=this,r=this.calcOffsetFromPosition(e),i=this.getClosestIndex(r),s=d(this.calcValue(r),this.props),a=this.state.value.slice();a[i]=s;for(var o=0;o<a.length-1;o+=1)if(a[o+1]-a[o]<this.props.minDistance)return;this.fireChangeEvent("onBeforeChange"),this.hasMoved=!0,this.setState({value:a},(function(){t(i),n.fireChangeEvent("onChange")}))},i.clearPendingResizeTimeouts=function(){do{var e=this.pendingResizeTimeouts.shift();clearTimeout(e)}while(this.pendingResizeTimeouts.length)},i.start=function(e,t){var n=this["thumb"+e];n&&n.focus();var r=this.state.zIndices;r.splice(r.indexOf(e),1),r.push(e),this.setState((function(n){return{startValue:n.value[e],startPosition:void 0!==t?t:n.startPosition,index:e,zIndices:r}}))},i.moveUpByStep=function(e){void 0===e&&(e=this.props.step);var t=this.state.value[this.state.index],n=d(this.props.invert&&"horizontal"===this.props.orientation?t-e:t+e,this.props);this.move(Math.min(n,this.props.max))},i.moveDownByStep=function(e){void 0===e&&(e=this.props.step);var t=this.state.value[this.state.index],n=d(this.props.invert&&"horizontal"===this.props.orientation?t+e:t-e,this.props);this.move(Math.max(n,this.props.min))},i.move=function(e){var t=this.state.value.slice(),n=this.state.index,r=t.length,i=t[n];if(e!==i){this.hasMoved||this.fireChangeEvent("onBeforeChange"),this.hasMoved=!0;var s=this.props,a=s.pearling,o=s.max,u=s.min,h=s.minDistance;if(!a){if(n>0){var l=t[n-1];e<l+h&&(e=l+h)}if(n<r-1){var c=t[n+1];e>c-h&&(e=c-h)}}t[n]=e,a&&r>1&&(e>i?(this.pushSucceeding(t,h,n),function(e,t,n,r){for(var i=0;i<e;i+=1){var s=r-i*n;t[e-1-i]>s&&(t[e-1-i]=s)}}(r,t,h,o)):e<i&&(this.pushPreceding(t,h,n),function(e,t,n,r){for(var i=0;i<e;i+=1){var s=r+i*n;t[i]<s&&(t[i]=s)}}(r,t,h,u))),this.setState({value:t},this.fireChangeEvent.bind(this,"onChange"))}},i.pushSucceeding=function(e,t,n){var r,i;for(i=e[r=n]+t;null!==e[r+1]&&i>e[r+1];i=e[r+=1]+t)e[r+1]=m(i,this.props)},i.pushPreceding=function(e,t,n){for(var r=n,i=e[r]-t;null!==e[r-1]&&i<e[r-1];i=e[r-=1]-t)e[r-1]=m(i,this.props)},i.axisKey=function(){return"vertical"===this.props.orientation?"Y":"X"},i.orthogonalAxisKey=function(){return"vertical"===this.props.orientation?"X":"Y"},i.posMinKey=function(){return"vertical"===this.props.orientation?this.props.invert?"bottom":"top":this.props.invert?"right":"left"},i.posMaxKey=function(){return"vertical"===this.props.orientation?this.props.invert?"top":"bottom":this.props.invert?"left":"right"},i.sizeKey=function(){return"vertical"===this.props.orientation?"clientHeight":"clientWidth"},i.fireChangeEvent=function(e){this.props[e]&&this.props[e](p(this.state.value),this.state.index)},i.buildThumbStyle=function(e,t){var n={position:"absolute",touchAction:"none",willChange:this.state.index>=0?this.posMinKey():void 0,zIndex:this.state.zIndices.indexOf(t)+1};return n[this.posMinKey()]=e+"px",n},i.buildTrackStyle=function(e,t){var n={position:"absolute",willChange:this.state.index>=0?this.posMinKey()+","+this.posMaxKey():void 0};return n[this.posMinKey()]=e,n[this.posMaxKey()]=t,n},i.buildMarkStyle=function(e){var t;return(t={position:"absolute"})[this.posMinKey()]=e,t},i.renderThumbs=function(e){for(var t=e.length,n=[],r=0;r<t;r+=1)n[r]=this.buildThumbStyle(e[r],r);for(var i=[],s=0;s<t;s+=1)i[s]=this.renderThumb(n[s],s);return i},i.renderTracks=function(e){var t=[],n=e.length-1;t.push(this.renderTrack(0,0,e[0]));for(var r=0;r<n;r+=1)t.push(this.renderTrack(r+1,e[r],e[r+1]));return t.push(this.renderTrack(n+1,e[n],this.state.upperBound)),t},i.renderMarks=function(){var e=this,t=this.props.marks,n=this.props.max-this.props.min+1;return"boolean"==typeof t?t=Array.from({length:n}).map((function(e,t){return t})):"number"==typeof t&&(t=Array.from({length:n}).map((function(e,t){return t})).filter((function(e){return e%t==0}))),t.map(parseFloat).sort((function(e,t){return e-t})).map((function(t){var n=e.calcOffset(t),r={key:t,className:e.props.markClassName,style:e.buildMarkStyle(n)};return e.props.renderMark(r)}))},i.render=function(){for(var e=this,t=[],n=this.state.value,r=n.length,i=0;i<r;i+=1)t[i]=this.calcOffset(n[i],i);var s=this.props.withTracks?this.renderTracks(t):null,o=this.renderThumbs(t),u=this.props.marks?this.renderMarks():null;return a.createElement("div",{ref:function(t){e.slider=t,e.resizeElementRef.current=t},style:{position:"relative"},className:this.props.className+(this.props.disabled?" disabled":""),onMouseDown:this.onSliderMouseDown,onClick:this.onSliderClick},s,o,u)},t}(a.Component);g.displayName="ReactSlider",g.defaultProps={min:0,max:100,step:1,pageFn:function(e){return 10*e},minDistance:0,defaultValue:0,orientation:"horizontal",className:"slider",thumbClassName:"thumb",thumbActiveClassName:"active",trackClassName:"track",markClassName:"mark",withTracks:!0,pearling:!1,disabled:!1,snapDragDisabled:!1,invert:!1,marks:[],renderThumb:function(e){return a.createElement("div",e)},renderTrack:function(e){return a.createElement("div",e)},renderMark:function(e){return a.createElement("span",e)}};var v=g,y=n(78983),_=n(33035),b=(n(1780),n(80184)),k=function(){var e=(0,a.useState)([]),t=(0,s.Z)(e,2),n=t[0],o=t[1],h=(0,a.useState)([]),l=(0,s.Z)(h,2),c=l[0],p=l[1],f=(0,a.useState)([]),d=(0,s.Z)(f,2),m=(d[0],d[1],(0,a.useState)(!0)),g=(0,s.Z)(m,2),k=(g[0],g[1]);(0,a.useEffect)((function(){n&&n[0]&&Object.keys(n[0]).filter((function(e){return/^\d{4}$/.test(e)})).map((function(e){return parseInt(e)}));u().parse("https://raw.githubusercontent.com/tdushime/Imp_Exp_Dashboard/master/public/imports.csv",{download:!0,header:!0,dynamicTyping:!0,complete:function(e){console.log("imports results: ",e.data),p(e.data),k(!1)}});u().parse("https://raw.githubusercontent.com/tdushime/Imp_Exp_Dashboard/master/public/exports.csv",{download:!0,header:!0,dynamicTyping:!0,complete:function(e){o(e.data),k(!1)}})}),[]);var x=n&&n[0]?Object.keys(n[0]).filter((function(e){return/^\d{4}$/.test(e)})).map((function(e){return parseInt(e)})):[];console.log("exportsdata: ",n),console.log("importsdata: ",c);var w=(0,i.Z)(new Set(n.map((function(e){return e.country})))).filter(Boolean),C=(0,a.useState)(""),E=(0,s.Z)(C,2),S=(E[0],E[1],(0,a.useState)([2015,2018])),R=(0,s.Z)(S,2),M=R[0],T=R[1],O=["#0B5394","#741B47","#351C75","#38761D","#B45F06","#990000","#BF900F"],D=w.filter((function(e){return null!==e})).map((function(e,t){var r=n.filter((function(t){return t.country===e})),i=x.map((function(e){return r[0][e]}));return{label:e,data:i,backgroundColor:O[t%O.length],borderColor:O[t%O.length],pointBorderColor:O[t%O.length],fill:!1}})),A=w.filter((function(e){return null!==e})).map((function(e,t){var n=c.filter((function(t){return t.country===e})),r=x.map((function(e){return n[0][e]}));return{label:e,data:r,backgroundColor:O[t%O.length],borderColor:O[t%O.length],pointBorderColor:O[t%O.length],fill:!1}})),z={responsive:!0,maintainAspectRatio:!0,plugins:{legend:{position:"right",display:!0,align:"start",labels:{boxWidth:20,fontSize:14}}},scales:{x:{grid:{drawOnChartArea:!1}},y:{ticks:{beginAtZero:!0,callback:function(e){return function(e){if(e>=1e9)return(e/1e9).toFixed(1)+"B";return e}(e)}}}},elements:{line:{tension:0},point:{radius:2,hitRadius:10,hoverRadius:4,hoverBorderWidth:3}}},j=(0,a.useState)(w.map((function(e){return e}))),I=(0,s.Z)(j,2),P=(I[0],I[1],function(){var e=(0,s.Z)(M,2),t=e[0],n=e[1];return x.filter((function(e){return e>=t&&e<=n}))}()),L={labels:P,datasets:A.map((function(e){return(0,r.Z)((0,r.Z)({},e),{},{data:e.data.filter((function(e,t){return P.includes(x[t])}))})}))},F={labels:P,datasets:D.map((function(e){return(0,r.Z)((0,r.Z)({},e),{},{data:e.data.filter((function(e,t){return P.includes(x[t])}))})}))};return console.log("labels: ",x),console.log("YearRange: ",x[0],x[x.length-1]),console.log("countries: ",w),console.log("Imports chartData: ",L),console.log("Exports chartData: ",F),console.log("See data..: ","The Data"),(0,b.jsxs)(y.rb,{children:[(0,b.jsxs)(y.b7,{xs:12,children:[(0,b.jsx)("h4",{children:"Select Year Range"}),(0,b.jsx)(v,{className:"custom-slider",thumbClassName:"custom-slider-thumb",trackClassName:"custom-slider-track",renderThumb:function(e,t){return(0,b.jsx)("div",(0,r.Z)((0,r.Z)({},e),{},{children:t.valueNow}))},markClassName:"custom-slider-mark",value:M,onChange:function(e){T(e)},min:x[0],max:x[x.length-1],marks:x.length})]}),(0,b.jsx)(y.b7,{xs:12,children:(0,b.jsx)("h1",{children:"Imports"})}),(0,b.jsx)(y.b7,{xs:6,children:(0,b.jsxs)(y.xH,{className:"mb-4",children:[(0,b.jsx)(y.bn,{children:"Bar Chart"}),(0,b.jsx)(y.sl,{children:(0,b.jsx)(_.JZ,{data:L,options:z})})]})}),(0,b.jsx)(y.b7,{xs:6,children:(0,b.jsxs)(y.xH,{className:"mb-4",children:[(0,b.jsx)(y.bn,{children:"Line Chart"}),(0,b.jsx)(y.sl,{children:(0,b.jsx)(_.oK,{data:L,options:z})})]})}),(0,b.jsx)(y.b7,{xs:12,children:(0,b.jsx)("h1",{children:"Exports"})}),(0,b.jsx)(y.b7,{xs:6,children:(0,b.jsxs)(y.xH,{className:"mb-4",children:[(0,b.jsx)(y.bn,{children:"Bar Chart"}),(0,b.jsx)(y.sl,{children:(0,b.jsx)(_.JZ,{data:F,options:z})})]})}),(0,b.jsx)(y.b7,{xs:6,children:(0,b.jsxs)(y.xH,{className:"mb-4",children:[(0,b.jsx)(y.bn,{children:"Line Chart"}),(0,b.jsx)(y.sl,{children:(0,b.jsx)(_.oK,{data:F,options:z})})]})})]})}},1025:function(e,t){var n,r,i;r=[],n=function e(){"use strict";var t="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{},n=!t.document&&!!t.postMessage,r=t.IS_PAPA_WORKER||!1,i={},s=0,a={parse:function(n,r){var o=(r=r||{}).dynamicTyping||!1;if(k(o)&&(r.dynamicTypingFunction=o,o={}),r.dynamicTyping=o,r.transform=!!k(r.transform)&&r.transform,r.worker&&a.WORKERS_SUPPORTED){var u=function(){if(!a.WORKERS_SUPPORTED)return!1;var n,r,o=(n=t.URL||t.webkitURL||null,r=e.toString(),a.BLOB_URL||(a.BLOB_URL=n.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",r,")();"],{type:"text/javascript"})))),u=new t.Worker(o);return u.onmessage=g,u.id=s++,i[u.id]=u}();return u.userStep=r.step,u.userChunk=r.chunk,u.userComplete=r.complete,u.userError=r.error,r.step=k(r.step),r.chunk=k(r.chunk),r.complete=k(r.complete),r.error=k(r.error),delete r.worker,void u.postMessage({input:n,config:r,workerId:u.id})}var f=null;return a.NODE_STREAM_INPUT,"string"==typeof n?(n=function(e){return 65279===e.charCodeAt(0)?e.slice(1):e}(n),f=r.download?new h(r):new c(r)):!0===n.readable&&k(n.read)&&k(n.on)?f=new p(r):(t.File&&n instanceof File||n instanceof Object)&&(f=new l(r)),f.stream(n)},unparse:function(e,t){var n=!1,r=!0,i=",",s="\r\n",o='"',u=o+o,h=!1,l=null,c=!1;!function(){if("object"==typeof t){if("string"!=typeof t.delimiter||a.BAD_DELIMITERS.filter((function(e){return-1!==t.delimiter.indexOf(e)})).length||(i=t.delimiter),("boolean"==typeof t.quotes||"function"==typeof t.quotes||Array.isArray(t.quotes))&&(n=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(h=t.skipEmptyLines),"string"==typeof t.newline&&(s=t.newline),"string"==typeof t.quoteChar&&(o=t.quoteChar),"boolean"==typeof t.header&&(r=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error("Option columns is empty");l=t.columns}void 0!==t.escapeChar&&(u=t.escapeChar+o),("boolean"==typeof t.escapeFormulae||t.escapeFormulae instanceof RegExp)&&(c=t.escapeFormulae instanceof RegExp?t.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var p=new RegExp(d(o),"g");if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return f(null,e,h);if("object"==typeof e[0])return f(l||Object.keys(e[0]),e,h)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||l),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),f(e.fields||[],e.data||[],h);throw new Error("Unable to serialize unrecognized input");function f(e,t,n){var a="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var o=Array.isArray(e)&&0<e.length,u=!Array.isArray(t[0]);if(o&&r){for(var h=0;h<e.length;h++)0<h&&(a+=i),a+=m(e[h],h);0<t.length&&(a+=s)}for(var l=0;l<t.length;l++){var c=o?e.length:t[l].length,p=!1,f=o?0===Object.keys(t[l]).length:0===t[l].length;if(n&&!o&&(p="greedy"===n?""===t[l].join("").trim():1===t[l].length&&0===t[l][0].length),"greedy"===n&&o){for(var d=[],g=0;g<c;g++){var v=u?e[g]:g;d.push(t[l][v])}p=""===d.join("").trim()}if(!p){for(var y=0;y<c;y++){0<y&&!f&&(a+=i);var _=o&&u?e[y]:y;a+=m(t[l][_],y)}l<t.length-1&&(!n||0<c&&!f)&&(a+=s)}}return a}function m(e,t){if(null==e)return"";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);var r=!1;c&&"string"==typeof e&&c.test(e)&&(e="'"+e,r=!0);var s=e.toString().replace(p,u);return(r=r||!0===n||"function"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||function(e,t){for(var n=0;n<t.length;n++)if(-1<e.indexOf(t[n]))return!0;return!1}(s,a.BAD_DELIMITERS)||-1<s.indexOf(i)||" "===s.charAt(0)||" "===s.charAt(s.length-1))?o+s+o:s}}};if(a.RECORD_SEP=String.fromCharCode(30),a.UNIT_SEP=String.fromCharCode(31),a.BYTE_ORDER_MARK="\ufeff",a.BAD_DELIMITERS=["\r","\n",'"',a.BYTE_ORDER_MARK],a.WORKERS_SUPPORTED=!n&&!!t.Worker,a.NODE_STREAM_INPUT=1,a.LocalChunkSize=10485760,a.RemoteChunkSize=5242880,a.DefaultDelimiter=",",a.Parser=m,a.ParserHandle=f,a.NetworkStreamer=h,a.FileStreamer=l,a.StringStreamer=c,a.ReadableStreamStreamer=p,t.jQuery){var o=t.jQuery;o.fn.parse=function(e){var n=e.config||{},r=[];return this.each((function(e){if("INPUT"!==o(this).prop("tagName").toUpperCase()||"file"!==o(this).attr("type").toLowerCase()||!t.FileReader||!this.files||0===this.files.length)return!0;for(var i=0;i<this.files.length;i++)r.push({file:this.files[i],inputElem:this,instanceConfig:o.extend({},n)})})),i(),this;function i(){if(0!==r.length){var t,n,i,u,h=r[0];if(k(e.before)){var l=e.before(h.file,h.inputElem);if("object"==typeof l){if("abort"===l.action)return t="AbortError",n=h.file,i=h.inputElem,u=l.reason,void(k(e.error)&&e.error({name:t},n,i,u));if("skip"===l.action)return void s();"object"==typeof l.config&&(h.instanceConfig=o.extend(h.instanceConfig,l.config))}else if("skip"===l)return void s()}var c=h.instanceConfig.complete;h.instanceConfig.complete=function(e){k(c)&&c(e,h.file,h.inputElem),s()},a.parse(h.file,h.instanceConfig)}else k(e.complete)&&e.complete()}function s(){r.splice(0,1),i()}}}function u(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=_(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new f(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,n){if(this.isFirstChunk&&k(this._config.beforeFirstChunk)){var i=this._config.beforeFirstChunk(e);void 0!==i&&(e=i)}this.isFirstChunk=!1,this._halted=!1;var s=this._partialLine+e;this._partialLine="";var o=this._handle.parse(s,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var u=o.meta.cursor;this._finished||(this._partialLine=s.substring(u-this._baseIndex),this._baseIndex=u),o&&o.data&&(this._rowCount+=o.data.length);var h=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(r)t.postMessage({results:o,workerId:a.WORKER_ID,finished:h});else if(k(this._config.chunk)&&!n){if(this._config.chunk(o,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);o=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(o.data),this._completeResults.errors=this._completeResults.errors.concat(o.errors),this._completeResults.meta=o.meta),this._completed||!h||!k(this._config.complete)||o&&o.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),h||o&&o.meta.paused||this._nextChunk(),o}this._halted=!0},this._sendError=function(e){k(this._config.error)?this._config.error(e):r&&this._config.error&&t.postMessage({workerId:a.WORKER_ID,error:e,finished:!1})}}function h(e){var t;(e=e||{}).chunkSize||(e.chunkSize=a.RemoteChunkSize),u.call(this,e),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),n||(t.onload=b(this._chunkLoaded,this),t.onerror=b(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!n),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var r in e)t.setRequestHeader(r,e[r])}if(this._config.chunkSize){var i=this._start+this._config.chunkSize-1;t.setRequestHeader("Range","bytes="+this._start+"-"+i)}try{t.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}n&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:t.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(e){var t=e.getResponseHeader("Content-Range");return null===t?-1:parseInt(t.substring(t.lastIndexOf("/")+1))}(t),this.parseChunk(t.responseText)))},this._chunkError=function(e){var n=t.statusText||e;this._sendError(new Error(n))}}function l(e){var t,n;(e=e||{}).chunkSize||(e.chunkSize=a.LocalChunkSize),u.call(this,e);var r="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,r?((t=new FileReader).onload=b(this._chunkLoaded,this),t.onerror=b(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var i=Math.min(this._start+this._config.chunkSize,this._input.size);e=n.call(e,this._start,i)}var s=t.readAsText(e,this._config.encoding);r||this._chunkLoaded({target:{result:s}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function c(e){var t;u.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e,n=this._config.chunkSize;return n?(e=t.substring(0,n),t=t.substring(n)):(e=t,t=""),this._finished=!t,this.parseChunk(e)}}}function p(e){u.call(this,e=e||{});var t=[],n=!0,r=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):n=!0},this._streamData=b((function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}}),this),this._streamError=b((function(e){this._streamCleanUp(),this._sendError(e)}),this),this._streamEnd=b((function(){this._streamCleanUp(),r=!0,this._streamData("")}),this),this._streamCleanUp=b((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function f(e){var t,n,r,i=Math.pow(2,53),s=-i,o=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,u=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,h=this,l=0,c=0,p=!1,f=!1,g=[],v={data:[],errors:[],meta:{}};if(k(e.step)){var y=e.step;e.step=function(t){if(v=t,w())x();else{if(x(),0===v.data.length)return;l+=t.data.length,e.preview&&l>e.preview?n.abort():(v.data=v.data[0],y(v,h))}}}function b(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function x(){return v&&r&&(E("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+a.DefaultDelimiter+"'"),r=!1),e.skipEmptyLines&&(v.data=v.data.filter((function(e){return!b(e)}))),w()&&function(){if(v)if(Array.isArray(v.data[0])){for(var t=0;w()&&t<v.data.length;t++)v.data[t].forEach(n);v.data.splice(0,1)}else v.data.forEach(n);function n(t,n){k(e.transformHeader)&&(t=e.transformHeader(t,n)),g.push(t)}}(),function(){if(!v||!e.header&&!e.dynamicTyping&&!e.transform)return v;function t(t,n){var r,i=e.header?{}:[];for(r=0;r<t.length;r++){var s=r,a=t[r];e.header&&(s=r>=g.length?"__parsed_extra":g[r]),e.transform&&(a=e.transform(a,s)),a=C(s,a),"__parsed_extra"===s?(i[s]=i[s]||[],i[s].push(a)):i[s]=a}return e.header&&(r>g.length?E("FieldMismatch","TooManyFields","Too many fields: expected "+g.length+" fields but parsed "+r,c+n):r<g.length&&E("FieldMismatch","TooFewFields","Too few fields: expected "+g.length+" fields but parsed "+r,c+n)),i}var n=1;return!v.data.length||Array.isArray(v.data[0])?(v.data=v.data.map(t),n=v.data.length):v.data=t(v.data,0),e.header&&v.meta&&(v.meta.fields=g),c+=n,v}()}function w(){return e.header&&0===g.length}function C(t,n){return r=t,e.dynamicTypingFunction&&void 0===e.dynamicTyping[r]&&(e.dynamicTyping[r]=e.dynamicTypingFunction(r)),!0===(e.dynamicTyping[r]||e.dynamicTyping)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&(function(e){if(o.test(e)){var t=parseFloat(e);if(s<t&&t<i)return!0}return!1}(n)?parseFloat(n):u.test(n)?new Date(n):""===n?null:n):n;var r}function E(e,t,n,r){var i={type:e,code:t,message:n};void 0!==r&&(i.row=r),v.errors.push(i)}this.parse=function(i,s,o){var u=e.quoteChar||'"';if(e.newline||(e.newline=function(e,t){e=e.substring(0,1048576);var n=new RegExp(d(t)+"([^]*?)"+d(t),"gm"),r=(e=e.replace(n,"")).split("\r"),i=e.split("\n"),s=1<i.length&&i[0].length<r[0].length;if(1===r.length||s)return"\n";for(var a=0,o=0;o<r.length;o++)"\n"===r[o][0]&&a++;return a>=r.length/2?"\r\n":"\r"}(i,u)),r=!1,e.delimiter)k(e.delimiter)&&(e.delimiter=e.delimiter(i),v.meta.delimiter=e.delimiter);else{var h=function(t,n,r,i,s){var o,u,h,l;s=s||[",","\t","|",";",a.RECORD_SEP,a.UNIT_SEP];for(var c=0;c<s.length;c++){var p=s[c],f=0,d=0,g=0;h=void 0;for(var v=new m({comments:i,delimiter:p,newline:n,preview:10}).parse(t),y=0;y<v.data.length;y++)if(r&&b(v.data[y]))g++;else{var _=v.data[y].length;d+=_,void 0!==h?0<_&&(f+=Math.abs(_-h),h=_):h=_}0<v.data.length&&(d/=v.data.length-g),(void 0===u||f<=u)&&(void 0===l||l<d)&&1.99<d&&(u=f,o=p,l=d)}return{successful:!!(e.delimiter=o),bestDelimiter:o}}(i,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess);h.successful?e.delimiter=h.bestDelimiter:(r=!0,e.delimiter=a.DefaultDelimiter),v.meta.delimiter=e.delimiter}var l=_(e);return e.preview&&e.header&&l.preview++,t=i,n=new m(l),v=n.parse(t,s,o),x(),p?{meta:{paused:!0}}:v||{meta:{paused:!1}}},this.paused=function(){return p},this.pause=function(){p=!0,n.abort(),t=k(e.chunk)?"":t.substring(n.getCharIndex())},this.resume=function(){h.streamer._halted?(p=!1,h.streamer.parseChunk(t,!0)):setTimeout(h.resume,3)},this.aborted=function(){return f},this.abort=function(){f=!0,n.abort(),v.meta.aborted=!0,k(e.complete)&&e.complete(v),t=""}}function d(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function m(e){var t,n=(e=e||{}).delimiter,r=e.newline,i=e.comments,s=e.step,o=e.preview,u=e.fastMode,h=t=void 0===e.quoteChar||null===e.quoteChar?'"':e.quoteChar;if(void 0!==e.escapeChar&&(h=e.escapeChar),("string"!=typeof n||-1<a.BAD_DELIMITERS.indexOf(n))&&(n=","),i===n)throw new Error("Comment character same as delimiter");!0===i?i="#":("string"!=typeof i||-1<a.BAD_DELIMITERS.indexOf(i))&&(i=!1),"\n"!==r&&"\r"!==r&&"\r\n"!==r&&(r="\n");var l=0,c=!1;this.parse=function(a,p,f){if("string"!=typeof a)throw new Error("Input must be a string");var m=a.length,g=n.length,v=r.length,y=i.length,_=k(s),b=[],x=[],w=[],C=l=0;if(!a)return H();if(e.header&&!p){var E=a.split(r)[0].split(n),S=[],R={},M=!1;for(var T in E){var O=E[T];k(e.transformHeader)&&(O=e.transformHeader(O,T));var D=O,A=R[O]||0;for(0<A&&(M=!0,D=O+"_"+A),R[O]=A+1;S.includes(D);)D=D+"_"+A;S.push(D)}if(M){var z=a.split(r);z[0]=S.join(n),a=z.join(r)}}if(u||!1!==u&&-1===a.indexOf(t)){for(var j=a.split(r),I=0;I<j.length;I++){if(w=j[I],l+=w.length,I!==j.length-1)l+=r.length;else if(f)return H();if(!i||w.substring(0,y)!==i){if(_){if(b=[],U(w.split(n)),W(),c)return H()}else U(w.split(n));if(o&&o<=I)return b=b.slice(0,o),H(!0)}}return H()}for(var P=a.indexOf(n,l),L=a.indexOf(r,l),F=new RegExp(d(h)+d(t),"g"),K=a.indexOf(t,l);;)if(a[l]!==t)if(i&&0===w.length&&a.substring(l,l+y)===i){if(-1===L)return H();l=L+v,L=a.indexOf(r,l),P=a.indexOf(n,l)}else if(-1!==P&&(P<L||-1===L))w.push(a.substring(l,P)),l=P+g,P=a.indexOf(n,l);else{if(-1===L)break;if(w.push(a.substring(l,L)),V(L+v),_&&(W(),c))return H();if(o&&b.length>=o)return H(!0)}else for(K=l,l++;;){if(-1===(K=a.indexOf(t,K+1)))return f||x.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:b.length,index:l}),q();if(K===m-1)return q(a.substring(l,K).replace(F,t));if(t!==h||a[K+1]!==h){if(t===h||0===K||a[K-1]!==h){-1!==P&&P<K+1&&(P=a.indexOf(n,K+1)),-1!==L&&L<K+1&&(L=a.indexOf(r,K+1));var B=Z(-1===L?P:Math.min(P,L));if(a.substr(K+1+B,g)===n){w.push(a.substring(l,K).replace(F,t)),a[l=K+1+B+g]!==t&&(K=a.indexOf(t,l)),P=a.indexOf(n,l),L=a.indexOf(r,l);break}var N=Z(L);if(a.substring(K+1+N,K+1+N+v)===r){if(w.push(a.substring(l,K).replace(F,t)),V(K+1+N+v),P=a.indexOf(n,l),K=a.indexOf(t,l),_&&(W(),c))return H();if(o&&b.length>=o)return H(!0);break}x.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:b.length,index:l}),K++}}else K++}return q();function U(e){b.push(e),C=l}function Z(e){var t=0;if(-1!==e){var n=a.substring(K+1,e);n&&""===n.trim()&&(t=n.length)}return t}function q(e){return f||(void 0===e&&(e=a.substring(l)),w.push(e),l=m,U(w),_&&W()),H()}function V(e){l=e,U(w),w=[],L=a.indexOf(r,l)}function H(e){return{data:b,errors:x,meta:{delimiter:n,linebreak:r,aborted:c,truncated:!!e,cursor:C+(p||0)}}}function W(){s(H()),b=[],x=[]}},this.abort=function(){c=!0},this.getCharIndex=function(){return l}}function g(e){var t=e.data,n=i[t.workerId],r=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var s={abort:function(){r=!0,v(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:y,resume:y};if(k(n.userStep)){for(var a=0;a<t.results.data.length&&(n.userStep({data:t.results.data[a],errors:t.results.errors,meta:t.results.meta},s),!r);a++);delete t.results}else k(n.userChunk)&&(n.userChunk(t.results,s,t.file),delete t.results)}t.finished&&!r&&v(t.workerId,t.results)}function v(e,t){var n=i[e];k(n.userComplete)&&n.userComplete(t),n.terminate(),delete i[e]}function y(){throw new Error("Not implemented.")}function _(e){if("object"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var n in e)t[n]=_(e[n]);return t}function b(e,t){return function(){e.apply(t,arguments)}}function k(e){return"function"==typeof e}return r&&(t.onmessage=function(e){var n=e.data;if(void 0===a.WORKER_ID&&n&&(a.WORKER_ID=n.workerId),"string"==typeof n.input)t.postMessage({workerId:a.WORKER_ID,results:a.parse(n.input,n.config),finished:!0});else if(t.File&&n.input instanceof File||n.input instanceof Object){var r=a.parse(n.input,n.config);r&&t.postMessage({workerId:a.WORKER_ID,results:r,finished:!0})}}),(h.prototype=Object.create(u.prototype)).constructor=h,(l.prototype=Object.create(u.prototype)).constructor=l,(c.prototype=Object.create(c.prototype)).constructor=c,(p.prototype=Object.create(u.prototype)).constructor=p,a},void 0===(i="function"===typeof n?n.apply(t,r):n)||(e.exports=i)}}]);
//# sourceMappingURL=77.453e9e3d.chunk.js.map